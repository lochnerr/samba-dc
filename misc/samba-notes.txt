
## TODO Debian Samba       is 4.5.16-Debian (Does not work SAMBA_INTERNAL or BIND9_DLZ...Debian:backports either)
## Ubuntu 18.04 (EOS 2023) is 4.7.6-Ubuntu (Clean).
## Alpine 3.9              is 4.8.11 (Does not work with BIND9_DLZ).
## Fedora 29               is 4.9.8 (Clean).
## Fedora 30               is 4.10.4. (Does not work due to python3 lib setsysvolacl:_setntacl:setntacl problem again - 4.10.0 first python 3 release).
## Note: Updating Ubuntu (4.7.6) in-place to Fedora (4.9.8) passes all tests.

# TODO Figure out how to make this work without host networking in kubernetes/docker stack.
#   - Master and Slave internal IP's can change on restart.
#   - TESTING
#     - Internal IPs: Can change on restart.
#       - PROBLEM: Restarts can fundamentally break master/slave relationship.
#       - Not really a problem.  Testing runs should not really be restarted.
#     - Host Name (testdcX) determines role.
#   - PRODUCTION
#     - Internal IP: Can change on restart if not using host networking.
#       - This shouldn't matter, only external (static) IPs should be used for provisioning.
# TODO Make easier to migrate existing standalone server (e.g. WINC) to docker.
# TODO Check different sub-nets for dc's (e.g. multiple availability zones).
#   - Create east1a/east1b docker machines (ad.testing.internal).
#   - Create older /srv/samba-dc-4.x directory for upgrade testing (rm -rf /srv/samba-dc; mkdir /srv/samba-dc; cp -a /srv/samba-dc-4.x/. /srv/samba-dc/).

# DONE TODO Think about using systemd (Debian and Fedora).
#  - One thing is clear if using systemd, a samba-ad-dc unit would be required to orchestrate the dns and samba startup.
# DONE TODO Think about rsyslogd.  Seems only relevant to Alpine, which doesn't work anyway.
# DONE - Get rid of? Yes
# DONE TODO Need to fix persistent /etc/ssh
# DONE TODO Need to create admin account and link /home/admin & /root
# DONE TODO Figure out how to get env vars with systemd.

### from samba-provisioning.
  # TODO Update or delete this...
  # Here's what I want:
  # docker environment vars for things common to provision and join modes (i.e. common docker-compose or kubernetes file for master/slave(s)).
  # /etc/samba/samba-vars for action: master (provision) / slave (join).
  # Ultimately want samba to run in podman local, docker plain, docker-compose, docker swarm, docker stack or kubernetes, i.e. one master + slave(s).
  #   - This will require local /srv/samba-dc/etc/samba/samba-vars.
  # Want it to be exceedingly easy to setup.

  # Provision only happens once, ever.
  # Would you rather have a samba-dc-provision and a samba-dc or just a more complicated samba-dc. samba-dc.
  # Use docker environment? yes.
  # Use docker secret for password? Avoids exposure in makefile/compose/kubernetes files. Probably, yes.  NO.
  # Kubernetes/Swarm probably too complex for samba-dc.  Separate container vms probably good enough.
###
